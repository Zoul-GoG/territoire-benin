{
    "openapi": "3.0.0",
    "info": {
      "version": "1.0.0",
      "title": "territoire-bj",
      "description": "Cette API vous fournit les informations sur les départements, communes, arrondissements et quartiers/villages du Bénin",
      "contact": {
        "name": "Zoulkifle SALIFOU",
        "email": "zoulkiflesalifou@gmail.com"
      },
      "license": {
        "name": "MIT",
        "url": "https://opensource.org/licenses/MIT"
      }
    },
    "servers": [
      {
        "url": "https://territoire-bj.onrender.com/territoire",
        "description": "Production server"
      },
      {
        "url": "http://localhost:5010/territoire",
        "description": "Local development server"
      }
    ],
    "tags": [
      {
        "name": "Territoire",
        "description": "Routes de récupération des départements/communes/arrondissements/quartiers du Bénin"
      }
    ],
    "components": {
      "parameters": {
        "deptName": {
          "name": "dept",
          "in": "path",
          "description": "Nom du département",
          "required": true,
          "schema": {
            "type": "string",
            "example": "DONGA"
          }
        },
        "cityName": {
          "name": "city",
          "in": "path",
          "description": "Nom de la commune",
          "required": true,
          "schema": {
            "type": "string",
            "example": "DJOUGOU"
          }
        },
        "districtName": {
          "name": "district",
          "in": "path",
          "description": "Nom de l'arrondissement",
          "required": true,
          "schema": {
            "type": "string",
            "example": "SEROU"
          }
        }
      },
      "schemas": {
        "DepartementList": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "ATACORA",
            "description": "Nom de département du Bénin"
          }
        },
        "CommuneList": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "ABOMEY-CALAVI",
            "description": "Nom de commune du Bénin"
          }
        },
        "ArrondissementList": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "arrondissement 1",
            "description": "Nom d'arrondissement du Bénin"
          }
        },
        "QuartierList": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "quartier 1",
            "description": "Nom de quartier du Bénin"
          }
        },
        "QuartierDetail": {
          "type": "object",
          "properties": {
            "id_quart": { "type": "integer", "example": 3080 },
            "lib_quart": { "type": "string", "example": "AKARADE" }
          }
        },
        "ArrondissementDetail": {
          "type": "object",
          "properties": {
            "id_arrond": { "type": "integer", "example": 316 },
            "lib_arrond": { "type": "string", "example": "ALEDJO" },
            "quartiers": {
              "type": "array",
              "items": { "$ref": "#/components/schemas/QuartierDetail" }
            }
          }
        },
        "CommuneDetail": {
          "type": "object",
          "properties": {
            "id_com": { "type": "integer", "example": 44 },
            "lib_com": { "type": "string", "example": "BASSILA" },
            "arrondissements": {
              "type": "array",
              "items": { "$ref": "#/components/schemas/ArrondissementDetail" }
            }
          }
        },
        "DepartementDetail": {
          "type": "object",
          "properties": {
            "id_dep": { "type": "integer", "example": 7 },
            "lib_dep": { "type": "string", "example": "DONGA" },
            "communes": {
              "type": "array",
              "items": { "$ref": "#/components/schemas/CommuneDetail" }
            }
          }
        },
        "CommuneWithArrondissements": {
          "type": "object",
          "properties": {
            "departement": { "type": "string", "example": "DONGA" },
            "communes": { "type": "array", "items": { "$ref": "#/components/schemas/CommuneDetail" } }
          }
        },
        "ArrondissementWithQuartiers": {
          "type": "object",
          "properties": {
            "departement": { "type": "string", "example": "DONGA" },
            "commune": { "type": "string", "example": "DJOUGOU" },
            "arrondissement": { "$ref": "#/components/schemas/ArrondissementDetail" }
          }
        }
      },
      "responses": {
        "BadRequest": { "description": "Paramètre invalide" },
        "NotFound": { "description": "Ressource non trouvée" },
        "ServerError": { "description": "Erreur serveur" }
      }
    },
    "paths": {
        "/v1/departements": {
            "get": {
                "tags": [
                    "Territoire"
                ],
                "operationId": "listDepartements",
                "summary": "Lister les départements",
                "description": "Retourne la liste de tous les départements",
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {"$ref": "#/components/schemas/DepartementList"}
                            }
                        }
                    },
                    "400": {"$ref": "#/components/responses/BadRequest"},
                    "500": {"$ref": "#/components/responses/ServerError"}
                }
            }
        },
        "/v1/communes": {
            "get": {
                "tags": [
                    "Territoire"
                ],
                "operationId": "listCommunes",
                "summary": "Lister les communes",
                "description": "Retourne la liste de toutes les communes",
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {"$ref": "#/components/schemas/CommuneList"}
                            }
                        }
                    },
                    "400": {"$ref": "#/components/responses/BadRequest"},
                    "500": {"$ref": "#/components/responses/ServerError"}
                }
            }
        },
        "/v1/arrondissements": {
            "get": {
                "tags": [
                    "Territoire"
                ],
                "operationId": "listArrondissements",
                "summary": "Lister les arrondissements",
                "description": "Retourne la liste de tous les arrondissements",
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {"$ref": "#/components/schemas/ArrondissementList"}
                            }
                        }
                    },
                    "400": {"$ref": "#/components/responses/BadRequest"},
                    "500": {"$ref": "#/components/responses/ServerError"}
                }
            }
        },
        "/v1/quartiers": {
            "get": {
                "tags": [
                    "Territoire"
                ],
                "operationId": "listQuartiers",
                "summary": "Lister les quartiers",
                "description": "Retourne la liste de tous les quartiers",
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {"$ref": "#/components/schemas/QuartierList"}
                            }
                        }
                    },
                    "400": {"$ref": "#/components/responses/BadRequest"},
                    "500": {"$ref": "#/components/responses/ServerError"}
                }
            }
        },
        "/v1/departements/{dept}/communes": {
            "get": {
                "tags": [
                    "Territoire"
                ],
                "operationId": "getCommunesByDepartement",
                "summary": "Lister les communes d'un département",
                "description": "Retourne le département spécifié avec ses communes (et arrondissements/quartiers imbriqués)",
                "parameters": [
                    {"$ref": "#/components/parameters/deptName"}
                ],
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {"$ref": "#/components/schemas/DepartementDetail"}
                            }
                        }
                    },
                    "400": {"$ref": "#/components/responses/BadRequest"},
                    "404": {"$ref": "#/components/responses/NotFound"},
                    "500": {"$ref": "#/components/responses/ServerError"}
                }
            }
        },
        "/v1/communes/{city}/arrondissements": {
            "get": {
                "tags": [
                    "Territoire"
                ],
                "operationId": "getArrondissementsByCommune",
                "summary": "Lister les arrondissements d'une commune",
                "description": "Renvoie le département et la commune spécifiée avec ses arrondissements/quartiers",
                "parameters": [
                    {"$ref": "#/components/parameters/cityName"}
                ],
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {"$ref": "#/components/schemas/CommuneWithArrondissements"}
                            }
                        }
                    },
                    "400": {"$ref": "#/components/responses/BadRequest"},
                    "404": {"$ref": "#/components/responses/NotFound"},
                    "500": {"$ref": "#/components/responses/ServerError"}
                }
            }
        },
        "/v1/arrondissements/{district}/quartiers": {
            "get": {
                "tags": [
                    "Territoire"
                ],
                "operationId": "getQuartiersByArrondissement",
                "summary": "Lister les quartiers d'un arrondissement",
                "description": "Renvoie le département, la commune et l'arrondissement spécifié avec ses quartiers",
                "parameters": [
                    {"$ref": "#/components/parameters/districtName"}
                ],
                "responses": {
                    "200": {
                        "description": "Succès",
                        "content": {
                            "application/json": {
                                "schema": {"$ref": "#/components/schemas/ArrondissementWithQuartiers"}
                            }
                        }
                    },
                    "400": {"$ref": "#/components/responses/BadRequest"},
                    "404": {"$ref": "#/components/responses/NotFound"},
                    "500": {"$ref": "#/components/responses/ServerError"}
                }
            }
        }

    },
    "definitions": {
    }
}